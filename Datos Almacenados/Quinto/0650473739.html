
                <!doctype html>
                <html lang="es">
                    <head>
                        <meta charset="UTF-8">
                        <meta name="viewport"content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
                        <meta http-equiv="X-UA-Compatible" content="ie=edge">   
                        <title>HISTORIAL IoMT</title>   
                        <style type="text/css">#oli  {display: none;}</style>
                        <script   src="https://code.jquery.com/jquery-2.2.4.min.js"integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="   crossorigin="anonymous"></script>
                       <!-- LIBRERIAS EXCEL-->
                        <script src="https://unpkg.com/xlsx@0.16.9/dist/xlsx.full.min.js"></script>
                        <script src="https://unpkg.com/file-saverjs@latest/FileSaver.min.js"></script>
                        <script src="https://unpkg.com/tableexport@latest/dist/js/tableexport.min.js"></script>
                        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.js"></script>
                        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

                    </head>

                    <body>
                        <div class="container">
                            <div class="card" style="background:#E4FFB5  ;">
                                <div class="card-header" style="width: 27rem;">
                                    REPORTE IOMT
                                </div>
                                <div class="card-body">
                                    <button id="btnExportar" class="btn btn-success">
                                        <i class="fas fa-file-excel"></i> DESCARGAR HISTORIAL
                                    </button>
                                    <h4>
                                    <table id="tabla" class="table table-border table-hover">
                                        <thead>
                                            <tr><th>Nombre:</th><th>Nelly Alejandra</th></tr>                
                                            <tr><th>Apellido:</th><th>Leon</th></tr>
                                            <tr><th>Curso:</th><th>Quinto</th></tr>
                                            <tr><th>Edad:</th><th>10</th></tr>
                                            <tr><th></th><th></th></tr>             
                                        
                                            <tr><th>Fecha</th>
                                            <th>Hora</th>
                                            <th>Temperatura</th>
                                            <th>Peso</th>
                                            <th>Altura</th>
                                            <th>IMC</th>
                                            <th>O2Sat</th></tr>
                                        </thead>
                                        <tbody>
                                        <tr><td class="GF">01/01/22</td><td class="GH">00:00</td><td class="GT">00.00</td><td class="GP">00.00</td><td class="GE">00.00</td><td class="GI">00.00</td><td class="GO">00.00</td></tr>
                                        <tr><td class="GF">04/07/22</td><td class="GH">07h/51m/12s</td><td class="GT">29.17</td><td class="GP">28.14</td><td class="GE">1.2</td><td class="GI">19.54</td><td class="GO">96</td></tr>
                        <tr><td class="GF">04/07/22</td><td class="GH">10h/51m/24s</td><td class="GT">32.18</td><td class="GP">28.15</td><td class="GE">1.2</td><td class="GI">19.55</td><td class="GO">94</td></tr>
                        <tr><td class="GF">04/07/22</td><td class="GH">12h/51m/36s</td><td class="GT">34.71</td><td class="GP">28.15</td><td class="GE">1.21</td><td class="GI">19.23</td><td class="GO">95</td></tr>
                        <tr><td class="GF">06/07/22</td><td class="GH">07h/51m/13s</td><td class="GT">28.17</td><td class="GP">28.16</td><td class="GE">1.2</td><td class="GI">19.56</td><td class="GO">93</td></tr>
                        <tr><td class="GF">06/07/22</td><td class="GH">10h/51m/25s</td><td class="GT">28.17</td><td class="GP">28.15</td><td class="GE">1.2</td><td class="GI">19.55</td><td class="GO">95</td></tr>
                        <tr><td class="GF">06/07/22</td><td class="GH">12h/51m/42s</td><td class="GT">32.74</td><td class="GP">28.15</td><td class="GE">1.21</td><td class="GI">19.23</td><td class="GO">96</td></tr>
                        <tr><td class="GF">08/07/22</td><td class="GH">07h/51m/01s</td><td class="GT">27.16</td><td class="GP">28.25</td><td class="GE">1.2</td><td class="GI">19.62</td><td class="GO">95</td></tr>
                        <tr><td class="GF">08/07/22</td><td class="GH">10h/51m/16s</td><td class="GT">30.96</td><td class="GP">28.25</td><td class="GE">1.19</td><td class="GI">19.95</td><td class="GO">91</td></tr>
                        <tr><td class="GF">08/07/22</td><td class="GH">12h/51m/33s</td><td class="GT">33.78</td><td class="GP">28.24</td><td class="GE">1.19</td><td class="GI">19.94</td><td class="GO">91</td></tr>
                        <tr><td class="GF">12/07/22</td><td class="GH">07h/51m/02s</td><td class="GT">29.74</td><td class="GP">29.02</td><td class="GE">1.2</td><td class="GI">20.15</td><td class="GO">95</td></tr>
                        <tr><td class="GF">12/07/22</td><td class="GH">10h/51m/16s</td><td class="GT">31.64</td><td class="GP">29.02</td><td class="GE">1.19</td><td class="GI">20.49</td><td class="GO">94</td></tr>
                        <tr><td class="GF">12/07/22</td><td class="GH">12h/51m/29s</td><td class="GT">34.71</td><td class="GP">29.02</td><td class="GE">1.21</td><td class="GI">19.82</td><td class="GO">94</td></tr>
                        <tr><td class="GF">14/07/22</td><td class="GH">07h/51m/44s</td><td class="GT">30.68</td><td class="GP">29.01</td><td class="GE">1.2</td><td class="GI">20.15</td><td class="GO">96</td></tr>
                        <tr><td class="GF">14/07/22</td><td class="GH">10h/51m/55s</td><td class="GT">32.81</td><td class="GP">29.01</td><td class="GE">1.2</td><td class="GI">20.15</td><td class="GO">96</td></tr>
                        <tr><td class="GF">14/07/22</td><td class="GH">12h/51m/17s</td><td class="GT">34.82</td><td class="GP">29</td><td class="GE">1.21</td><td class="GI">19.81</td><td class="GO">95</td></tr>
                        <tr><td class="GF">18/07/22</td><td class="GH">07h/53m/18s</td><td class="GT">29.58</td><td class="GP">29.4</td><td class="GE">1.22</td><td class="GI">19.75</td><td class="GO">96</td></tr>
                        <tr><td class="GF">18/07/22</td><td class="GH">10h/53m/44s</td><td class="GT">31.17</td><td class="GP">29.43</td><td class="GE">1.21</td><td class="GI">20.1</td><td class="GO">96</td></tr>
                        <tr><td class="GF">18/07/22</td><td class="GH">12h/53m/15s</td><td class="GT">33.52</td><td class="GP">29.38</td><td class="GE">1.22</td><td class="GI">19.74</td><td class="GO">95</td></tr>
                        <tr><td class="GF">19/07/22</td><td class="GH">07h/46m/07s</td><td class="GT">30.37</td><td class="GP">29.7</td><td class="GE">1.21</td><td class="GI">20.29</td><td class="GO">95</td></tr>
                        <tr><td class="GF">20/07/22</td><td class="GH">07h/53m/30s</td><td class="GT">30.14</td><td class="GP">29.41</td><td class="GE">1.23</td><td class="GI">19.44</td><td class="GO">96</td></tr>
                        <tr><td class="GF">20/07/22</td><td class="GH">10h/53m/40s</td><td class="GT">32.17</td><td class="GP">29.48</td><td class="GE">1.22</td><td class="GI">19.81</td><td class="GO">96</td></tr>
                        <tr><td class="GF">20/07/22</td><td class="GH">12h/53m/53s</td><td class="GT">34.71</td><td class="GP">29.35</td><td class="GE">1.23</td><td class="GI">19.4</td><td class="GO">95</td></tr>
                        <tr><td class="GF">22/07/22</td><td class="GH">07h/53m/12s</td><td class="GT">29.98</td><td class="GP">29.42</td><td class="GE">1.2</td><td class="GI">20.43</td><td class="GO">95</td></tr>
                        <tr><td class="GF">22/07/22</td><td class="GH">10h/53m/39s</td><td class="GT">31.31</td><td class="GP">29.44</td><td class="GE">1.23</td><td class="GI">19.46</td><td class="GO">96</td></tr>
                        <tr><td class="GF">22/07/22</td><td class="GH">12h/53m/01s</td><td class="GT">34.14</td><td class="GP">29.47</td><td class="GE">1.22</td><td class="GI">19.8</td><td class="GO">96</td></tr>
                        <!-- AGREGAR TABLA-->  
                                            
                                        </tbody>
                                    </table>
                                <!-- BOTON VISUALIZAR-->
                                    <button id="btnGraficar" class="btn btn-success">
                                        <i class="fas fa-file-excel"></i> VISUALIZAR GRAFICAS
                                    </button>
                                                  
                                    <div id="oli" >
                                        <!-- GRAFICA TEMPERATURA CORPORAL-->
                                        <canvas id="GraTemperatura" width="1000" height="500" style="margin:0 auto;"></canvas>
                                        <button id="DescTemp" class="btn btn-success"><i class="fas fa-file-excel"></i> DESCARGAR</button>
                                        
                                        <!-- GRAFICA PESO CORPORAL-->
                                        <canvas id="GraPeso" width="1000" height="400" style="margin:0 auto;"></canvas>
                                        <button id="DescPes" class="btn btn-success"><i class="fas fa-file-excel"></i> DESCARGAR</button>               
                                    
                                        <!-- GRAFICA ESTATURA CORPORAL-->       
                                        <canvas id="GraEstatura" width="1000" height="400" style="margin:0 auto;"></canvas>             
                                        <button id="DescEst" class="btn btn-success"><i class="fas fa-file-excel"></i> DESCARGAR</button>
                                        
                                        <!-- GRAFICA IMC CORPORAL-->
                                        <canvas id="GraImc" width="1000" height="400" style="margin:0 auto;"></canvas>
                                        <button id="DescImc" class="btn btn-success"><i class="fas fa-file-excel"></i> DESCARGAR</button>
                                        
                                        <!-- GRAFICA O2SAT CORPORAL-->
                                        <canvas id="GraO2Sat" width="1000" height="400" style="margin:0 auto;"></canvas>
                                        <button id="DescO2Sat" class="btn btn-success" ><i class="fas fa-file-excel"></i> DESCARGAR</button>
                                        
                                        <!-- BOTON EXPORAR PDF-->
                                        <button type="button" class="btn btn-primary btn-sm" id="DescPDF"onclick="DescPDF">Descargar Historial en PDF</button>                  
                                
                                <h4>
                                </div>
                            </div>
                        </div>
                        
                    </body>
                    
                    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
                    <script src='https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.3/jspdf.debug.js'></script>
                            
                    <!-- SCRIPT -------------------------------------------------------------------------- -->      
                    <!-- SCRIPT PARA EXPORTAR -->
                    <script>
                        const $btnExportar = document.querySelector("#btnExportar"),
                            $tabla = document.querySelector("#tabla");
                        $btnExportar.addEventListener("click", function() {
                            let tableExport = new TableExport($tabla, {
                                exportButtons: false, // No queremos botones
                                filename: "Reporte IoMT", //Nombre del archivo de Excel
                                sheetname: "IoMT", //Título de la hoja
                            });
                            let datos = tableExport.getExportData();
                            let preferenciasDocumento = datos.tabla.xlsx;
                            tableExport.export2file(preferenciasDocumento.data, preferenciasDocumento.mimeType, preferenciasDocumento.filename, preferenciasDocumento.fileExtension, preferenciasDocumento.merges, preferenciasDocumento.RTL, preferenciasDocumento.sheetname);
                        });
                    </script>       
                            


                    <!-- GRAFICA TEMPERATURA -->
                    <!-- --------------------------------------------------------- -->
                    <script>
                        var Temp = "";       var Fec = "";
                        var Temperatura =[]; var Fecha =[];
                        $("#btnGraficar").click(function() {
                            console.log("DESCARGANDOooo")
                        $(".GF").parent("tr").find(".GF").each(function() {
                         Fec +=$(this).html()+",";
                        });
                        $(".GT").parent("tr").find(".GT").each(function() {
                         Temp +=$(this).html()+",";
                        });
                        
                        Temp=Temp.split(',')
                        TempLen = Temp.length-1;
                        Fec=Fec.split(',')
                        for ( var i = 0; i < TempLen; i++ ) {
                            Temperatura[i]=Temp[i];
                            Fecha[i]=Fec[i];
                            }
                        var ctx= document.getElementById("GraTemperatura").getContext("2d");
                        let gradient=ctx.createLinearGradient(0,0,0,400);
                        gradient.addColorStop(0,"rgba(144,0,0,0.7)");
                        gradient.addColorStop(1,"rgba(200,0,0,0.3)");
                        var myChart= new Chart(ctx,{
                            type:"line", //<!--TIPO DE GRAFICA -->
                            data:{
                                labels:Fecha, //<!--DATO FECHA -->      
                                datasets:[{
                                        label:'TEMPERATURA CORPORAL',
                                        data:Temperatura, //<!--DATO TEMPERATURA -->
                                        backgroundColor: gradient,
                                        borderColor: "#000000",
                                        borderWidth:4,
                                            }]},
                            options:{
                                responsive: false,
                                title: {
                                 display: true,
                                 text: 'HISTORIAL DE LA TEMPERATURA CORPORAL'
                                  },
                                
                                scales:{
                                    yAxes:[{
                                        scaleLabel: {
                                            display: true,
                                            labelString: "TEMPERATURA [°C]",},
                                        ticks:{
                                            beginAtZero:true                            
                                            }}],                
                                    xAxes:[{
                                        scaleLabel: {
                                            display: true,
                                            labelString: "FECHA [dd/mm/aa]",
                                        }}]                                             
                            }}});   
                        document.getElementById('oli').style.display = 'block';
                        $("#DescTemp").click(function() {
                           myChart.options.title.text = 'Temperatura Corporal - Historial';
                           myChart.update({
                              duration: 0
                           });
                           var link = document.createElement('a');
                           link.href = myChart.toBase64Image();
                           link.download = 'Temperatura Corporal.png';
                           link.click();
                           myChart.options.title.text = 'HISTORIAL: TEMPERATURA CORPORAL';
                           myChart.update({
                              duration: 0
                           });
                        }); 
                    });         
                    </script>
                    
                    <!-- GRAFICA PESO -->
                    <!-- --------------------------------------------------------- -->
                    <script>
                        var Pes = ""; var Fec = "";
                        var Peso =[]; var Fecha =[];
                          $("#btnGraficar").click(function() {
                            $(".GF").parent("tr").find(".GF").each(function() {
                             Fec +=$(this).html()+",";
                            });
                            $(".GP").parent("tr").find(".GP").each(function() {
                             Pes +=$(this).html()+",";
                            });         
                            Pes=Pes.split(',')
                            PesLen = Pes.length-1;
                            Fec=Fec.split(',')
                            for ( var i = 0; i < PesLen; i++ ) {
                                Peso[i]=Pes[i];
                                Fecha[i]=Fec[i];
                                }
                            var ctx= document.getElementById("GraPeso").getContext("2d");
                            let gradient=ctx.createLinearGradient(0,0,0,400);
                            gradient.addColorStop(0,"rgba(0,144,0,0.7)");
                            gradient.addColorStop(1,"rgba(0,200,0,0.1)");
                            var myChart= new Chart(ctx,{
                                type:"line", //<!--TIPO DE GRAFICA -->
                                data:{
                                    labels:Fecha, //<!--DATO FECHA -->      
                                    datasets:[{
                                            label:'PESO CORPORAL',
                                            data:Peso, //<!--DATO Peso -->
                                            backgroundColor: gradient,
                                            borderColor: "#000000",
                                            pointBackgroundColor: "#124500",
                                            pointBorderColor: "#124500",    
                                            borderWidth:4,
                                                }]},
                                options:{
                                    responsive: false,
                                    title: {
                                     display: true,
                                     text: 'HISTORIAL: PESO CORPORAL'
                                      },
                                    scales:{
                                        yAxes:[{
                                            scaleLabel: {
                                                display: true,
                                                labelString: "PESO [Kg]",},
                                            ticks:{
                                                beginAtZero:true                            
                                                }}],                
                                        xAxes:[{
                                            scaleLabel: {
                                                display: true,
                                                labelString: "FECHA [dd/mm/aa]",
                                            }}]                                             
                                }}});   
                            $("#DescPes").click(function() {
                               myChart.options.title.text = 'Peso Corporal - Historial';
                               myChart.update({
                                  duration: 0
                               });
                               var link = document.createElement('a');
                               link.href = myChart.toBase64Image();
                               link.download = 'Peso Corporal.png';
                               link.click();
                               myChart.options.title.text = 'HISTORIAL: PESO CORPORAL';
                               myChart.update({
                                  duration: 0
                               });
                            });     
                          });
                    </script>

                    <!-- GRAFICA ESTATURA -->
                    <!-- --------------------------------------------------------- -->
                    <script>
                        var Est = ""; var Fec = "";
                        var Estatura =[]; var Fecha =[];
                      $("#btnGraficar").click(function() {
                        $(".GF").parent("tr").find(".GF").each(function() {
                         Fec +=$(this).html()+",";
                        });
                        $(".GE").parent("tr").find(".GE").each(function() {
                         Est +=$(this).html()+",";
                        });     
                        Est=Est.split(',')
                        EstLen = Est.length-1;
                        Fec=Fec.split(',')
                        for ( var i = 0; i < EstLen; i++ ) {
                            Estatura[i]=Est[i];
                            Fecha[i]=Fec[i];
                            }
                        var ctx= document.getElementById("GraEstatura").getContext("2d");
                        let gradient=ctx.createLinearGradient(0,0,0,400);
                        gradient.addColorStop(0,"rgba(0,0,144,0.7)");
                        gradient.addColorStop(1,"rgba(0,0,200,0.1)");
                        var myChart= new Chart(ctx,{
                            type:"line", //<!--TIPO DE GRAFICA -->
                            data:{
                                labels:Fecha, //<!--DATO FECHA -->      
                                datasets:[{
                                        label:'ESTATURA CORPORAL',
                                        data:Estatura, //<!--DATO Estatura -->
                                        backgroundColor: gradient,
                                        borderColor: "#000000",
                                        pointBackgroundColor: "#124500",
                                        pointBorderColor: "#124500",
                                        borderWidth:4,                  
                                            }]},
                            options:{
                                responsive: false,
                                title: {
                                 display: true,
                                 text: 'HISTORIAL: ESTATURA CORPORAL'
                                  },
                                scales:{
                                    yAxes:[{
                                        scaleLabel: {
                                            display: true,
                                            labelString: "ESTATURA [m]",},
                                        ticks:{
                                            beginAtZero:true                            
                                            }}],                
                                    xAxes:[{
                                        scaleLabel: {
                                            display: true,
                                            labelString: "FECHA [dd/mm/aa]",
                                        }}]                                             
                            }}});               
                        $("#DescEst").click(function() {
                           myChart.options.title.text = 'Estatura Corporal - Historial';
                           myChart.update({
                              duration: 0
                           });
                           var link = document.createElement('a');
                           link.href = myChart.toBase64Image();
                           link.download = 'Estatura Corporal.png';
                           link.click();
                           myChart.options.title.text = 'HISTORIAL: ESTATURA CORPORAL';
                           myChart.update({
                              duration: 0
                           });
                        });
                      });
                    </script>
                    

                    <!-- GRAFICA IMC -->
                    <!-- --------------------------------------------------------- -->
                    <script>
                        var Im = ""; var Fec = "";
                        var IMC =[]; var Fecha =[];
                          $("#btnGraficar").click(function() {
                            $(".GF").parent("tr").find(".GF").each(function() {
                             Fec +=$(this).html()+",";
                            });
                            $(".GI").parent("tr").find(".GI").each(function() {
                             Im +=$(this).html()+",";
                            });         
                            Im=Im.split(',')
                            ImcLen = Im.length-1;
                            Fec=Fec.split(',')
                            for ( var i = 0; i < ImcLen; i++ ) {
                                IMC[i]=Im[i];
                                Fecha[i]=Fec[i];
                                }
                            var ctx= document.getElementById("GraImc").getContext("2d");
                            let gradient=ctx.createLinearGradient(0,0,0,400);
                            gradient.addColorStop(0,"rgba(200,0,255,0.8)");
                            gradient.addColorStop(1,"rgba(126, 2, 252, 0.3)");
                            var myChart= new Chart(ctx,{
                                type:"line", //<!--TIPO DE GRAFICA -->
                                data:{
                                    labels:Fecha, //<!--DATO FECHA -->      
                                    datasets:[{
                                            label:'INDICE DE MASA CORPORAL',
                                            data:IMC, //<!--DATO IMC -->
                                            backgroundColor:gradient,
                                            borderColor: "#000000",
                                            pointBackgroundColor: "#124500",
                                            pointBorderColor: "#124500",
                                            borderWidth:4,
                                                }]},
                                options:{
                                    responsive: false,
                                    title: {
                                     display: true,
                                     text: 'HISTORIAL: INDICE DE MASA CORPORAL'
                                      },
                                    scales:{
                                        yAxes:[{
                                            scaleLabel: {
                                                display: true,
                                                labelString: "IMC [Kg/m^2]",},
                                            ticks:{
                                                beginAtZero:true                            
                                                }}],                
                                        xAxes:[{
                                            scaleLabel: {
                                                display: true,
                                                labelString: "FECHA [dd/mm/aa]",
                                            }}]                                             
                                }}});   
                            $("#DescImc").click(function() {
                               myChart.options.title.text = 'IMC - Historial';
                               myChart.update({
                                  duration: 0
                               });
                               var link = document.createElement('a');
                               link.href = myChart.toBase64Image();
                               link.download = 'IMC.png';
                               link.click();
                               myChart.options.title.text = 'HISTORIAL: INDICE DE MASA CORPORAL';
                               myChart.update({
                                  duration: 0
                               });
                            }); 
                          });
                    </script>
                    <!-- GRAFICA O2Sat -->
                    <!-- --------------------------------------------------------- -->
                    <script>
                        var O2S = "";  var Fec = "";
                        var O2Sat =[]; var Fecha =[];
                          $("#btnGraficar").click(function() {
                            $(".GF").parent("tr").find(".GF").each(function() {
                             Fec +=$(this).html()+",";
                            });
                            $(".GO").parent("tr").find(".GO").each(function() {
                             O2S +=$(this).html()+",";
                            });         
                            O2S=O2S.split(',')
                            O2SLen = O2S.length-1;
                            Fec=Fec.split(',')
                            for ( var i = 0; i < O2SLen; i++ ) {
                                O2Sat[i]=O2S[i];
                                Fecha[i]=Fec[i];
                                }
                            var ctx= document.getElementById("GraO2Sat").getContext("2d");
                            let gradient=ctx.createLinearGradient(0,0,0,400);
                            gradient.addColorStop(0,"rgba(255, 248, 8, 0.9)");
                            gradient.addColorStop(1,"rgba(255, 248, 8, 0.2)");
                            var myChart= new Chart(ctx,{
                                type:"line", //<!--TIPO DE GRAFICA -->
                                data:{
                                    labels:Fecha, //<!--DATO FECHA -->      
                                    datasets:[{
                                            label:'O2SAT',
                                            data:O2Sat, //<!--DATO O2Sat -->
                                            backgroundColor: gradient,
                                            borderColor: "#000000",
                                            pointBackgroundColor: "#124500",
                                            pointBorderColor: "#124500",    
                                                }]},
                                options:{
                                    responsive: false,
                                    title: {
                                     display: true,
                                     text: 'HISTORIAL: SATURACION DE OXIGENO EN LA SANGRE'
                                      },
                                    scales:{
                                        yAxes:[{
                                            scaleLabel: {
                                                display: true,
                                                labelString: "O2SAT [%]",},
                                            ticks:{
                                                beginAtZero:true                            
                                                }}],                
                                        xAxes:[{
                                            scaleLabel: {
                                                display: true,
                                                labelString: "FECHA [dd/mm/aa]",
                                            }}]                                             
                                }}});   
                            $("#DescO2Sat").click(function() {
                               myChart.options.title.text = 'O2Sat - Historial';
                               myChart.update({
                                  duration: 0
                               });
                               var link = document.createElement('a');
                               link.href = myChart.toBase64Image();
                               link.download = 'O2SAT.png';
                               link.click();
                               myChart.options.title.text = 'HISTORIAL: SATURACION DE OXIGENO EN LA SANGRE';
                               myChart.update({
                                  duration: 0
                               });
                            });             
                          });
                    </script>   
                    <!-- EXPORTAR TODOS LOS GRAFICOS -->
                    <!-- ------------------------------------------------- -->
                    <script>
                        $('#DescPDF').click(function(event) { 
                            var reportPageHeight = 1500;
                            var reportPageWidth = 2200;
                            var pdfCanvas = $('<canvas />').attr({
                                id: "canvaspdf",
                                width: reportPageWidth,
                                height: reportPageHeight
                            });   
                              var pdfctx = $(pdfCanvas)[0].getContext('2d');
                              var pdfctxX = 0;
                              var pdfctxY = 0;
                              var buffer = 100;                   
                          $("canvas").each(function(index) {
                            var canvasHeight = $(this).innerHeight();
                            var canvasWidth = $(this).innerWidth();         
                            pdfctx.drawImage($(this)[0], pdfctxX, pdfctxY, canvasWidth, canvasHeight);
                            pdfctxX += canvasWidth + buffer;        
                            if (index % 2 === 1) {
                              pdfctxX = 0;
                              pdfctxY += canvasHeight + buffer;
                                }
                             });
                            var pdf = new jsPDF('l', 'pt', [reportPageWidth, reportPageHeight]);
                            pdf.addImage($(pdfCanvas)[0], 'PNG', 0, 0);
                            pdf.save('Reporte Grafico IoMT.pdf');
                        });
                        function done(){
                          alert("haha");
                          var url=myLine.toBase64Image();
                          document.getElementById("url").src=url;
                        }
                    </script>   
                </html>        
                