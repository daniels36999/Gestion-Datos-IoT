
            <!doctype html>
            <html lang="es">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport"content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
                    <meta http-equiv="X-UA-Compatible" content="ie=edge">	
                    <title>HISTORIAL IoMT</title>	
                    <style type="text/css">#oli  {display: none;}</style>
                    <script   src="https://code.jquery.com/jquery-2.2.4.min.js"integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="   crossorigin="anonymous"></script>
                   <!-- LIBRERIAS EXCEL-->
                    <script src="https://unpkg.com/xlsx@0.16.9/dist/xlsx.full.min.js"></script>
                    <script src="https://unpkg.com/file-saverjs@latest/FileSaver.min.js"></script>
                    <script src="https://unpkg.com/tableexport@latest/dist/js/tableexport.min.js"></script>
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.js"></script>
                    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

                </head>

                <body>
                    <div class="container">
                        <div class="card" style="background:#E4FFB5  ;">
                            <div class="card-header" style="width: 27rem;">
                                REPORTE IOMT
                            </div>
                            <div class="card-body">
                                <button id="btnExportar" class="btn btn-success">
                                    <i class="fas fa-file-excel"></i> DESCARGAR HISTORIAL
                                </button>
                                <h4>
                                <table id="tabla" class="table table-border table-hover">
                                    <thead>
                                        <tr><th>Nombre:</th><th>Daniel</th></tr>				
                                        <tr><th>Apellido:</th><th>Yautibug</th></tr>
                                        <tr><th>Cedula:</th><th>0605161611</th></tr>
                                        <tr><th>Curso:</th><th>Otros</th></tr>
                                        <tr><th>Fecha de Nacimiento:</th><th>1996/6/20</th></tr>
                                        <tr><th>Edad:</th><th>26</th></tr>
                                        <tr><th></th><th></th></tr>				
                                    
                                        <tr><th>Fecha</th>
                                        <th>Hora</th>
                                        <th>Temperatura</th>
                                        <th>Peso</th>
                                        <th>Altura</th>
                                        <th>IMC</th>
                                        <th>O2Sat</th></tr>
                                    </thead>
                                    <tbody>
                                    <tr><td class="GF">01/01/22</td><td class="GH">00:00</td><td class="GT">00.00</td><td class="GP">00.00</td><td class="GE">00.00</td><td class="GI">00.00</td><td class="GO">00.00</td></tr>
                                    <tr><td class="GF">03/07/22</td><td class="GH">15h/42m/16s</td><td class="GT">0.00</td><td class="GP">0.00</td><td class="GE">0.00</td><td class="GI">0.0</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">15h/43m/45s</td><td class="GT">31.29</td><td class="GP">1.48</td><td class="GE">0.99</td><td class="GI">1.48</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">15h/44m/46s</td><td class="GT">0.00</td><td class="GP">1.41</td><td class="GE">1.65</td><td class="GI">0.52</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">15h/57m/41s</td><td class="GT">0.00</td><td class="GP">0.00</td><td class="GE">0.00</td><td class="GI">0.0</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">16h/06m/56s</td><td class="GT">0.00</td><td class="GP">0.00</td><td class="GE">0.96</td><td class="GI">0.0</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">16h/14m/53s</td><td class="GT">0.00</td><td class="GP">0.00</td><td class="GE">0.00</td><td class="GI">0.0</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">16h/16m/24s</td><td class="GT">0.00</td><td class="GP">0.00</td><td class="GE">0.00</td><td class="GI">0.0</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">16h/19m/26s</td><td class="GT">0.00</td><td class="GP">0.01</td><td class="GE">1.07</td><td class="GI">0.01</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">16h/19m/53s</td><td class="GT">0.00</td><td class="GP">0.01</td><td class="GE">0.79</td><td class="GI">0.01</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">16h/20m/23s</td><td class="GT">0.00</td><td class="GP">0.01</td><td class="GE">0.79</td><td class="GI">0.01</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">16h/21m/55s</td><td class="GT">0.00</td><td class="GP">86.40</td><td class="GE">1.65</td><td class="GI">31.74</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">16h/25m/47s</td><td class="GT">0.00</td><td class="GP">86.56</td><td class="GE">0.78</td><td class="GI">86.56</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">16h/26m/19s</td><td class="GT">0.00</td><td class="GP">0.01</td><td class="GE">1.62</td><td class="GI">0.0</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">16h/29m/30s</td><td class="GT">0.00</td><td class="GP">86.43</td><td class="GE">1.59</td><td class="GI">34.19</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">16h/29m/57s</td><td class="GT">29.39</td><td class="GP">0.00</td><td class="GE">1.47</td><td class="GI">0.0</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">16h/30m/33s</td><td class="GT">29.77</td><td class="GP">86.78</td><td class="GE">1.69</td><td class="GI">30.38</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">16h/31m/53s</td><td class="GT">0.00</td><td class="GP">0.00</td><td class="GE">1.44</td><td class="GI">0.0</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">16h/33m/14s</td><td class="GT">0.00</td><td class="GP">86.45</td><td class="GE">1.05</td><td class="GI">78.41</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">16h/35m/09s</td><td class="GT">30.09</td><td class="GP">85.98</td><td class="GE">1.64</td><td class="GI">31.97</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">16h/37m/36s</td><td class="GT">0.00</td><td class="GP">0.00</td><td class="GE">0.00</td><td class="GI">0.0</td><td class="GO">0.00</td></tr>
                        <tr><td class="GF">03/07/22</td><td class="GH">16h/38m/32s</td><td class="GT">0.00</td><td class="GP">86.45</td><td class="GE">0.98</td><td class="GI">86.45</td><td class="GO">0.00</td></tr>
                        <!-- AGREGAR TABLA-->  
                                        
                                    </tbody>
                                </table>
                            <!-- BOTON VISUALIZAR-->
                                <button id="btnGraficar" class="btn btn-success">
                                    <i class="fas fa-file-excel"></i> VISUALIZAR GRAFICAS
                                </button>
                                              
                                <div id="oli" >
                                    <!-- GRAFICA TEMPERATURA CORPORAL-->
                                    <canvas id="GraTemperatura" width="1000" height="500" style="margin:0 auto;"></canvas>
                                    <button id="DescTemp" class="btn btn-success"><i class="fas fa-file-excel"></i> DESCARGAR</button>
                                    
                                    <!-- GRAFICA PESO CORPORAL-->
                                    <canvas id="GraPeso" width="1000" height="400" style="margin:0 auto;"></canvas>
                                    <button id="DescPes" class="btn btn-success"><i class="fas fa-file-excel"></i> DESCARGAR</button>				
                                
                                    <!-- GRAFICA ESTATURA CORPORAL-->		
                                    <canvas id="GraEstatura" width="1000" height="400" style="margin:0 auto;"></canvas>				
                                    <button id="DescEst" class="btn btn-success"><i class="fas fa-file-excel"></i> DESCARGAR</button>
                                    
                                    <!-- GRAFICA IMC CORPORAL-->
                                    <canvas id="GraImc" width="1000" height="400" style="margin:0 auto;"></canvas>
                                    <button id="DescImc" class="btn btn-success"><i class="fas fa-file-excel"></i> DESCARGAR</button>
                                    
                                    <!-- GRAFICA O2SAT CORPORAL-->
                                    <canvas id="GraO2Sat" width="1000" height="400" style="margin:0 auto;"></canvas>
                                    <button id="DescO2Sat" class="btn btn-success" ><i class="fas fa-file-excel"></i> DESCARGAR</button>
                                    
                                    <!-- BOTON EXPORAR PDF-->
                                    <button type="button" class="btn btn-primary btn-sm" id="DescPDF"onclick="DescPDF">Descargar Historial en PDF</button>					
                            
                            <h4>
                            </div>
                        </div>
                    </div>
                    
                </body>
                
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
                <script src='https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.3/jspdf.debug.js'></script>
                        
                <!-- SCRIPT -------------------------------------------------------------------------- -->		
                <!-- SCRIPT PARA EXPORTAR -->
                <script>
                    const $btnExportar = document.querySelector("#btnExportar"),
                        $tabla = document.querySelector("#tabla");
                    $btnExportar.addEventListener("click", function() {
                        let tableExport = new TableExport($tabla, {
                            exportButtons: false, // No queremos botones
                            filename: "Reporte IoMT", //Nombre del archivo de Excel
                            sheetname: "IoMT", //Título de la hoja
                        });
                        let datos = tableExport.getExportData();
                        let preferenciasDocumento = datos.tabla.xlsx;
                        tableExport.export2file(preferenciasDocumento.data, preferenciasDocumento.mimeType, preferenciasDocumento.filename, preferenciasDocumento.fileExtension, preferenciasDocumento.merges, preferenciasDocumento.RTL, preferenciasDocumento.sheetname);
                    });
                </script>		
                        


                <!-- GRAFICA TEMPERATURA -->
                <!-- --------------------------------------------------------- -->
                <script>
                    var Temp = "";       var Fec = "";
                    var Temperatura =[]; var Fecha =[];
                    $("#btnGraficar").click(function() {
                        console.log("DESCARGANDOooo")
                    $(".GF").parent("tr").find(".GF").each(function() {
                     Fec +=$(this).html()+",";
                    });
                    $(".GT").parent("tr").find(".GT").each(function() {
                     Temp +=$(this).html()+",";
                    });
                    
                    Temp=Temp.split(',')
                    TempLen = Temp.length-1;
                    Fec=Fec.split(',')
                    for ( var i = 0; i < TempLen; i++ ) {
                        Temperatura[i]=Temp[i];
                        Fecha[i]=Fec[i];
                        }
                    var ctx= document.getElementById("GraTemperatura").getContext("2d");
                    let gradient=ctx.createLinearGradient(0,0,0,400);
                    gradient.addColorStop(0,"rgba(144,0,0,0.7)");
                    gradient.addColorStop(1,"rgba(200,0,0,0.3)");
                    var myChart= new Chart(ctx,{
                        type:"line", //<!--TIPO DE GRAFICA -->
                        data:{
                            labels:Fecha, //<!--DATO FECHA -->		
                            datasets:[{
                                    label:'TEMPERATURA CORPORAL',
                                    data:Temperatura, //<!--DATO TEMPERATURA -->
                                    backgroundColor: gradient,
                                    borderColor: "#000000",
                                    borderWidth:4,
                                        }]},
                        options:{
                            responsive: false,
                            title: {
                             display: true,
                             text: 'HISTORIAL DE LA TEMPERATURA CORPORAL'
                              },
                            
                            scales:{
                                yAxes:[{
                                    scaleLabel: {
                                        display: true,
                                        labelString: "TEMPERATURA [°C]",},
                                    ticks:{
                                        beginAtZero:true							
                                        }}],				
                                xAxes:[{
                                    scaleLabel: {
                                        display: true,
                                        labelString: "FECHA [dd/mm/aa]",
                                    }}]												
                        }}});	
                    document.getElementById('oli').style.display = 'block';
                    $("#DescTemp").click(function() {
                       myChart.options.title.text = 'Temperatura Corporal - Historial';
                       myChart.update({
                          duration: 0
                       });
                       var link = document.createElement('a');
                       link.href = myChart.toBase64Image();
                       link.download = 'Temperatura Corporal.png';
                       link.click();
                       myChart.options.title.text = 'HISTORIAL: TEMPERATURA CORPORAL';
                       myChart.update({
                          duration: 0
                       });
                    });	
                });			
                </script>
                
                <!-- GRAFICA PESO -->
                <!-- --------------------------------------------------------- -->
                <script>
                    var Pes = ""; var Fec = "";
                    var Peso =[]; var Fecha =[];
                      $("#btnGraficar").click(function() {
                        $(".GF").parent("tr").find(".GF").each(function() {
                         Fec +=$(this).html()+",";
                        });
                        $(".GP").parent("tr").find(".GP").each(function() {
                         Pes +=$(this).html()+",";
                        });			
                        Pes=Pes.split(',')
                        PesLen = Pes.length-1;
                        Fec=Fec.split(',')
                        for ( var i = 0; i < PesLen; i++ ) {
                            Peso[i]=Pes[i];
                            Fecha[i]=Fec[i];
                            }
                        var ctx= document.getElementById("GraPeso").getContext("2d");
                        let gradient=ctx.createLinearGradient(0,0,0,400);
                        gradient.addColorStop(0,"rgba(0,144,0,0.7)");
                        gradient.addColorStop(1,"rgba(0,200,0,0.1)");
                        var myChart= new Chart(ctx,{
                            type:"line", //<!--TIPO DE GRAFICA -->
                            data:{
                                labels:Fecha, //<!--DATO FECHA -->		
                                datasets:[{
                                        label:'PESO CORPORAL',
                                        data:Peso, //<!--DATO Peso -->
                                        backgroundColor: gradient,
                                        borderColor: "#000000",
                                        pointBackgroundColor: "#124500",
                                        pointBorderColor: "#124500",	
                                        borderWidth:4,
                                            }]},
                            options:{
                                responsive: false,
                                title: {
                                 display: true,
                                 text: 'HISTORIAL: PESO CORPORAL'
                                  },
                                scales:{
                                    yAxes:[{
                                        scaleLabel: {
                                            display: true,
                                            labelString: "PESO [Kg]",},
                                        ticks:{
                                            beginAtZero:true							
                                            }}],				
                                    xAxes:[{
                                        scaleLabel: {
                                            display: true,
                                            labelString: "FECHA [dd/mm/aa]",
                                        }}]												
                            }}});	
                        $("#DescPes").click(function() {
                           myChart.options.title.text = 'Peso Corporal - Historial';
                           myChart.update({
                              duration: 0
                           });
                           var link = document.createElement('a');
                           link.href = myChart.toBase64Image();
                           link.download = 'Peso Corporal.png';
                           link.click();
                           myChart.options.title.text = 'HISTORIAL: PESO CORPORAL';
                           myChart.update({
                              duration: 0
                           });
                        });		
                      });
                </script>

                <!-- GRAFICA ESTATURA -->
                <!-- --------------------------------------------------------- -->
                <script>
                    var Est = ""; var Fec = "";
                    var Estatura =[]; var Fecha =[];
                  $("#btnGraficar").click(function() {
                    $(".GF").parent("tr").find(".GF").each(function() {
                     Fec +=$(this).html()+",";
                    });
                    $(".GE").parent("tr").find(".GE").each(function() {
                     Est +=$(this).html()+",";
                    });		
                    Est=Est.split(',')
                    EstLen = Est.length-1;
                    Fec=Fec.split(',')
                    for ( var i = 0; i < EstLen; i++ ) {
                        Estatura[i]=Est[i];
                        Fecha[i]=Fec[i];
                        }
                    var ctx= document.getElementById("GraEstatura").getContext("2d");
                    let gradient=ctx.createLinearGradient(0,0,0,400);
                    gradient.addColorStop(0,"rgba(0,0,144,0.7)");
                    gradient.addColorStop(1,"rgba(0,0,200,0.1)");
                    var myChart= new Chart(ctx,{
                        type:"line", //<!--TIPO DE GRAFICA -->
                        data:{
                            labels:Fecha, //<!--DATO FECHA -->		
                            datasets:[{
                                    label:'ESTATURA CORPORAL',
                                    data:Estatura, //<!--DATO Estatura -->
                                    backgroundColor: gradient,
                                    borderColor: "#000000",
                                    pointBackgroundColor: "#124500",
                                    pointBorderColor: "#124500",
                                    borderWidth:4,					
                                        }]},
                        options:{
                            responsive: false,
                            title: {
                             display: true,
                             text: 'HISTORIAL: ESTATURA CORPORAL'
                              },
                            scales:{
                                yAxes:[{
                                    scaleLabel: {
                                        display: true,
                                        labelString: "ESTATURA [m]",},
                                    ticks:{
                                        beginAtZero:true							
                                        }}],				
                                xAxes:[{
                                    scaleLabel: {
                                        display: true,
                                        labelString: "FECHA [dd/mm/aa]",
                                    }}]												
                        }}});				
                    $("#DescEst").click(function() {
                       myChart.options.title.text = 'Estatura Corporal - Historial';
                       myChart.update({
                          duration: 0
                       });
                       var link = document.createElement('a');
                       link.href = myChart.toBase64Image();
                       link.download = 'Estatura Corporal.png';
                       link.click();
                       myChart.options.title.text = 'HISTORIAL: ESTATURA CORPORAL';
                       myChart.update({
                          duration: 0
                       });
                    });
                  });
                </script>
                

                <!-- GRAFICA IMC -->
                <!-- --------------------------------------------------------- -->
                <script>
                    var Im = ""; var Fec = "";
                    var IMC =[]; var Fecha =[];
                      $("#btnGraficar").click(function() {
                        $(".GF").parent("tr").find(".GF").each(function() {
                         Fec +=$(this).html()+",";
                        });
                        $(".GI").parent("tr").find(".GI").each(function() {
                         Im +=$(this).html()+",";
                        });			
                        Im=Im.split(',')
                        ImcLen = Im.length-1;
                        Fec=Fec.split(',')
                        for ( var i = 0; i < ImcLen; i++ ) {
                            IMC[i]=Im[i];
                            Fecha[i]=Fec[i];
                            }
                        var ctx= document.getElementById("GraImc").getContext("2d");
                        let gradient=ctx.createLinearGradient(0,0,0,400);
                        gradient.addColorStop(0,"rgba(200,0,255,0.8)");
                        gradient.addColorStop(1,"rgba(126, 2, 252, 0.3)");
                        var myChart= new Chart(ctx,{
                            type:"line", //<!--TIPO DE GRAFICA -->
                            data:{
                                labels:Fecha, //<!--DATO FECHA -->		
                                datasets:[{
                                        label:'INDICE DE MASA CORPORAL',
                                        data:IMC, //<!--DATO IMC -->
                                        backgroundColor:gradient,
                                        borderColor: "#000000",
                                        pointBackgroundColor: "#124500",
                                        pointBorderColor: "#124500",
                                        borderWidth:4,
                                            }]},
                            options:{
                                responsive: false,
                                title: {
                                 display: true,
                                 text: 'HISTORIAL: INDICE DE MASA CORPORAL'
                                  },
                                scales:{
                                    yAxes:[{
                                        scaleLabel: {
                                            display: true,
                                            labelString: "IMC [Kg/m^2]",},
                                        ticks:{
                                            beginAtZero:true							
                                            }}],				
                                    xAxes:[{
                                        scaleLabel: {
                                            display: true,
                                            labelString: "FECHA [dd/mm/aa]",
                                        }}]												
                            }}});	
                        $("#DescImc").click(function() {
                           myChart.options.title.text = 'IMC - Historial';
                           myChart.update({
                              duration: 0
                           });
                           var link = document.createElement('a');
                           link.href = myChart.toBase64Image();
                           link.download = 'IMC.png';
                           link.click();
                           myChart.options.title.text = 'HISTORIAL: INDICE DE MASA CORPORAL';
                           myChart.update({
                              duration: 0
                           });
                        });	
                      });
                </script>
                <!-- GRAFICA O2Sat -->
                <!-- --------------------------------------------------------- -->
                <script>
                    var O2S = "";  var Fec = "";
                    var O2Sat =[]; var Fecha =[];
                      $("#btnGraficar").click(function() {
                        $(".GF").parent("tr").find(".GF").each(function() {
                         Fec +=$(this).html()+",";
                        });
                        $(".GO").parent("tr").find(".GO").each(function() {
                         O2S +=$(this).html()+",";
                        });			
                        O2S=O2S.split(',')
                        O2SLen = O2S.length-1;
                        Fec=Fec.split(',')
                        for ( var i = 0; i < O2SLen; i++ ) {
                            O2Sat[i]=O2S[i];
                            Fecha[i]=Fec[i];
                            }
                        var ctx= document.getElementById("GraO2Sat").getContext("2d");
                        let gradient=ctx.createLinearGradient(0,0,0,400);
                        gradient.addColorStop(0,"rgba(255, 248, 8, 0.9)");
                        gradient.addColorStop(1,"rgba(255, 248, 8, 0.2)");
                        var myChart= new Chart(ctx,{
                            type:"line", //<!--TIPO DE GRAFICA -->
                            data:{
                                labels:Fecha, //<!--DATO FECHA -->		
                                datasets:[{
                                        label:'O2SAT',
                                        data:O2Sat, //<!--DATO O2Sat -->
                                        backgroundColor: gradient,
                                        borderColor: "#000000",
                                        pointBackgroundColor: "#124500",
                                        pointBorderColor: "#124500",	
                                            }]},
                            options:{
                                responsive: false,
                                title: {
                                 display: true,
                                 text: 'HISTORIAL: SATURACION DE OXIGENO EN LA SANGRE'
                                  },
                                scales:{
                                    yAxes:[{
                                        scaleLabel: {
                                            display: true,
                                            labelString: "O2SAT [%]",},
                                        ticks:{
                                            beginAtZero:true							
                                            }}],				
                                    xAxes:[{
                                        scaleLabel: {
                                            display: true,
                                            labelString: "FECHA [dd/mm/aa]",
                                        }}]												
                            }}});	
                        $("#DescO2Sat").click(function() {
                           myChart.options.title.text = 'O2Sat - Historial';
                           myChart.update({
                              duration: 0
                           });
                           var link = document.createElement('a');
                           link.href = myChart.toBase64Image();
                           link.download = 'O2SAT.png';
                           link.click();
                           myChart.options.title.text = 'HISTORIAL: SATURACION DE OXIGENO EN LA SANGRE';
                           myChart.update({
                              duration: 0
                           });
                        });				
                      });
                </script>	
                <!-- EXPORTAR TODOS LOS GRAFICOS -->
                <!-- ------------------------------------------------- -->
                <script>
                    $('#DescPDF').click(function(event) { 
                        var reportPageHeight = 1500;
                        var reportPageWidth = 2200;
                        var pdfCanvas = $('<canvas />').attr({
                            id: "canvaspdf",
                            width: reportPageWidth,
                            height: reportPageHeight
                        });	  
                          var pdfctx = $(pdfCanvas)[0].getContext('2d');
                          var pdfctxX = 0;
                          var pdfctxY = 0;
                          var buffer = 100;					  
                      $("canvas").each(function(index) {
                        var canvasHeight = $(this).innerHeight();
                        var canvasWidth = $(this).innerWidth();			
                        pdfctx.drawImage($(this)[0], pdfctxX, pdfctxY, canvasWidth, canvasHeight);
                        pdfctxX += canvasWidth + buffer;		
                        if (index % 2 === 1) {
                          pdfctxX = 0;
                          pdfctxY += canvasHeight + buffer;
                            }
                         });
                        var pdf = new jsPDF('l', 'pt', [reportPageWidth, reportPageHeight]);
                        pdf.addImage($(pdfCanvas)[0], 'PNG', 0, 0);
                        pdf.save('Reporte Grafico IoMT.pdf');
                    });
                    function done(){
                      alert("haha");
                      var url=myLine.toBase64Image();
                      document.getElementById("url").src=url;
                    }
                </script> 	
            </html>        
            